<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Wavelet variance â€¢ wv</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="jquery.sticky-kit.min.js"></script><script src="pkgdown.js"></script><!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-vignette">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">wv</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9">
    

    
    
<div class="contents">
<!-- README.md is generated from README.Rmd. Please edit that file -->

<div id="wv-r-package" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#wv-r-package" class="anchor"></a><code>wv</code> R Package <img src="reference/figures/logo.png" align="right">
</h1></div>
<p>This repository holds the Wavelet Variance (wv) R package. This estimation technique computes the classical and robust wavelet variance for time series and regular lattices.</p>
<p>Below are examples of the capabilities of the <code>wv</code> package.</p>
<div id="install-instructions" class="section level2">
<h2 class="hasAnchor">
<a href="#install-instructions" class="anchor"></a>Install Instructions</h2>
<p>To install the <code>wv</code> package, there is currently one option: GitHub (Developmental).</p>
<div id="recommended-r-interface" class="section level3">
<h3 class="hasAnchor">
<a href="#recommended-r-interface" class="anchor"></a>Recommended R Interface</h3>
<p>We firmly recommend that any users of this package use the <a href="https://www.rstudio.com/products/rstudio/download/">RStudio IDE</a> over the default R GUI.</p>
</div>
<div id="installing-the-package-through-github-developmental" class="section level3">
<h3 class="hasAnchor">
<a href="#installing-the-package-through-github-developmental" class="anchor"></a>Installing the package through GitHub (Developmental)</h3>
<p>For users who are interested in having the latest and greatest developments withing wavelets or GMWM methodology, this option is ideal. Though, there is considerably more work that a user must do to have a stable version of the package. <strong>The setup to obtain the development version is platform dependent.</strong></p>
<p>Specifically, one <strong>must</strong> have a compiler installed on your system that is compatible with R.</p>
<p>For help on obtaining a compiler consult:</p>
<ul>
<li><a href="http://thecoatlessprofessor.com/programming/r-compiler-tools-for-rcpp-on-os-x/">OS X</a></li>
<li><a href="https://cran.r-project.org/bin/windows/Rtools/">Windows</a></li>
</ul>
<p>Depending on your operating system, further requirements exist such as:</p>
<p><strong>OS X</strong></p>
<p>Some user report the need to use X11 to suppress shared library errors. To install X11, visit <a href="http://www.xquartz.org/">xquartz.org</a></p>
<p><strong>Linux</strong></p>
<p>Both curl and libxml are required.</p>
<p>For <strong>Debian</strong> systems, enter the following in terminal:</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="kw">sudo</span> apt-get install curl libcurl3 libcurl3-dev libxml2 libxml2-dev</code></pre></div>
<p>For <strong>RHEL</strong> systems, enter the following in terminal:</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="kw">sudo</span> yum install curl curl-devel libxml2 libxml2-dev</code></pre></div>
<p><strong>All Systems</strong></p>
<p>With the system dependency taken care of, we continue on by installing the R specific package dependencies and finally the package itself by doing the following in an R session:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Install dependencies</span>
<span class="kw">install.packages</span>(<span class="kw">c</span>(<span class="st">"RcppArmadillo"</span>,<span class="st">"ggplot2"</span>,<span class="st">"reshape2"</span>,<span class="st">"devtools"</span>,<span class="st">"knitr"</span>,<span class="st">"rmarkdown"</span>))

<span class="co"># Install the package from GitHub without Vignettes/User Guides</span>
devtools::<span class="kw">install_github</span>(<span class="st">"SMAC-Group/wv"</span>)</code></pre></div>
</div>
</div>
<div id="discrete-wavelet-transformation" class="section level2">
<h2 class="hasAnchor">
<a href="#discrete-wavelet-transformation" class="anchor"></a>Discrete Wavelet Transformation</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Set seed for reproducibility </span>
<span class="kw">set.seed</span>(<span class="dv">999</span>)

<span class="co"># Simulate a Gaussian random walk</span>
n =<span class="st"> </span><span class="dv">10</span>^<span class="dv">3</span>
Xt =<span class="st"> </span><span class="kw">cumsum</span>(<span class="kw">rnorm</span>(n))</code></pre></div>
<p>For the moment this method will only work with Haar wavelets.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># DWT</span>
Xt.dwt =<span class="st"> </span><span class="kw"><a href="reference/dwt.html">dwt</a></span>(Xt)
<span class="co">#&gt; Warning in dwt(Xt): The data has been truncated so that it is divisible by</span>
<span class="co">#&gt; `nlevels` (e.g. 2^*)</span>

<span class="co"># Summary of Discrete Wavelet Coefficients </span>
<span class="kw">summary</span>(Xt.dwt)
<span class="co">#&gt; </span>
<span class="co">#&gt; Results of DWT using haar filter with 8 levels:</span>
<span class="co">#&gt; Displaying only the first 6 coefficients...</span>
<span class="co">#&gt; Level 1 Wavelet Coefficients</span>
<span class="co">#&gt;  -0.9281198 0.1909687 -0.4002392 -0.8957566 -0.7926733 0.09473632 ...</span>
<span class="co">#&gt; Level 2 Wavelet Coefficients</span>
<span class="co">#&gt;  0.2739394 -2.795066 0.8319477 0.3625764 -0.08550498 0.108777 ...</span>
<span class="co">#&gt; Level 3 Wavelet Coefficients</span>
<span class="co">#&gt;  -2.384147 2.388987 -2.733086 -1.928826 -2.133592 -2.809311 ...</span>
<span class="co">#&gt; Level 4 Wavelet Coefficients</span>
<span class="co">#&gt;  -6.282995 -5.729953 -7.616116 1.635971 1.2219 4.605007 ...</span>
<span class="co">#&gt; Level 5 Wavelet Coefficients</span>
<span class="co">#&gt;  -10.03819 -6.631445 -0.6948675 -19.01644 12.1667 -5.350667 ...</span>
<span class="co">#&gt; Level 6 Wavelet Coefficients</span>
<span class="co">#&gt;  -23.08426 -18.32217 18.40802 -8.680854 -4.335243 6.224648 ...</span>
<span class="co">#&gt; Level 7 Wavelet Coefficients</span>
<span class="co">#&gt;  -34.68146 -7.485961 -5.448519 -30.51181 ...</span>
<span class="co">#&gt; Level 8 Wavelet Coefficients</span>
<span class="co">#&gt;  -50.81154 1.13322 ...</span>

<span class="co"># Plot of Discrete Wavelet Coefficients</span>
<span class="kw">plot</span>(Xt.dwt)</code></pre></div>
<div class="figure" style="text-align: center">
<img src="reference/figures/README-unnamed-chunk-6-1.png" alt="Discrete Wavelet Transform (DWT) for scales 1 to 4 for a simulated Gaussian white noise." width="672"><p class="caption">
Discrete Wavelet Transform (DWT) for scales 1 to 4 for a simulated Gaussian white noise.
</p>
</div>
</div>
<div id="maximum-overlap-discrete-wavelet-transformation" class="section level2">
<h2 class="hasAnchor">
<a href="#maximum-overlap-discrete-wavelet-transformation" class="anchor"></a>Maximum Overlap Discrete Wavelet Transformation</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># MODWT</span>
Xt.modwt =<span class="st"> </span><span class="kw"><a href="reference/modwt.html">modwt</a></span>(Xt)

<span class="co"># Summary of Maximum Overlap Discrete Wavelet Coefficients </span>
<span class="kw">summary</span>(Xt.modwt)
<span class="co">#&gt; </span>
<span class="co">#&gt; Results of MODWT using haar filter with 9 levels:</span>
<span class="co">#&gt; Displaying only the first 6 coefficients...</span>
<span class="co">#&gt; Level 1 Wavelet Coefficients</span>
<span class="co">#&gt;  -0.6562798 0.397592 0.1350352 -0.1386532 -0.2830119 -0.9393291 ...</span>
<span class="co">#&gt; Level 2 Wavelet Coefficients</span>
<span class="co">#&gt;  0.1369697 0.2645046 -0.2126415 -0.822003 -1.397533 -1.344998 ...</span>
<span class="co">#&gt; Level 3 Wavelet Coefficients</span>
<span class="co">#&gt;  -0.8429231 -1.362249 -2.044266 -1.991537 -1.571604 -0.827054 ...</span>
<span class="co">#&gt; Level 4 Wavelet Coefficients</span>
<span class="co">#&gt;  -1.570749 -1.175945 -0.7167598 -0.3172241 -0.04720348 0.01135659 ...</span>
<span class="co">#&gt; Level 5 Wavelet Coefficients</span>
<span class="co">#&gt;  -1.774519 -1.731545 -1.702113 -1.711879 -1.649612 -1.530804 ...</span>
<span class="co">#&gt; Level 6 Wavelet Coefficients</span>
<span class="co">#&gt;  -2.885532 -2.821419 -2.829503 -2.839451 -2.783538 -2.726905 ...</span>
<span class="co">#&gt; Level 7 Wavelet Coefficients</span>
<span class="co">#&gt;  -3.065437 -3.069304 -3.063743 -3.03344 -2.997907 -2.955661 ...</span>
<span class="co">#&gt; Level 8 Wavelet Coefficients</span>
<span class="co">#&gt;  -3.175721 -3.114701 -3.064177 -3.0097 -2.956361 -2.910441 ...</span>
<span class="co">#&gt; Level 9 Wavelet Coefficients</span>
<span class="co">#&gt;  -6.967706 -6.925613 -6.884283 -6.838645 -6.79024 -6.735489 ...</span>

<span class="co"># Plot of Maximum Overlap Discrete Wavelet Coefficients</span>
<span class="kw">plot</span>(Xt.modwt, <span class="dt">index =</span> <span class="st">"all"</span>)</code></pre></div>
<div class="figure" style="text-align: center">
<img src="reference/figures/README-unnamed-chunk-7-1.png" alt="Maximum Overlap Discrete Wavelet Transform  (MODWT) for scales 1 to 9 for a simulated Gaussian white noise." width="672"><p class="caption">
Maximum Overlap Discrete Wavelet Transform (MODWT) for scales 1 to 9 for a simulated Gaussian white noise.
</p>
</div>
</div>
<div id="wavelet-variance" class="section level2">
<h2 class="hasAnchor">
<a href="#wavelet-variance" class="anchor"></a>Wavelet Variance</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Set seed for reproducibility </span>
<span class="kw">set.seed</span>(<span class="dv">999</span>)

n =<span class="st"> </span><span class="dv">10</span>^<span class="dv">4</span>
<span class="co"># Simulate White noise</span>
WN =<span class="st"> </span><span class="kw">rnorm</span>(n)

<span class="co"># Simulate Random walk</span>
RW =<span class="st"> </span><span class="kw">cumsum</span>(<span class="kw">rnorm</span>(n))

<span class="co"># Plot WV</span>
<span class="kw">par</span>(<span class="dt">mfrow =</span> <span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>), <span class="dt">mar =</span> <span class="kw">c</span>(<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">1</span>,<span class="dv">1</span>))
<span class="kw">plot</span>(<span class="kw"><a href="reference/wvar.html">wvar</a></span>(WN), <span class="dt">main =</span> <span class="st">"White noise"</span>)
<span class="kw">plot</span>(<span class="kw"><a href="reference/wvar.html">wvar</a></span>(RW), <span class="dt">main =</span> <span class="st">"Random walk"</span>, <span class="dt">legend_position =</span> <span class="ot">NULL</span>)</code></pre></div>
<div class="figure" style="text-align: center">
<img src="reference/figures/README-unnamed-chunk-8-1.png" alt="Wavelet variance of two simulated processes, i.e white noise (left panel) and random waLk (right panel)." width="696"><p class="caption">
Wavelet variance of two simulated processes, i.e white noise (left panel) and random waLk (right panel).
</p>
</div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Add contamination</span>
gamma =<span class="st"> </span><span class="fl">0.01</span>
RW2 =<span class="st"> </span>RW
RW2[<span class="kw">sample</span>(<span class="dv">1</span>:n,<span class="kw">round</span>(gamma*n))] =<span class="st"> </span><span class="kw">rnorm</span>(<span class="kw">round</span>(gamma*n),<span class="dv">0</span>,<span class="dv">5</span>)
<span class="kw">par</span>(<span class="dt">mfrow =</span> <span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>), <span class="dt">mar =</span> <span class="kw">c</span>(<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">1</span>,<span class="dv">1</span>))
<span class="kw"><a href="reference/robust_eda.html">robust_eda</a></span>(RW)
<span class="kw"><a href="reference/robust_eda.html">robust_eda</a></span>(RW2, <span class="dt">legend_position =</span> <span class="ot">NULL</span>)</code></pre></div>
<p><img src="reference/figures/README-unnamed-chunk-9-1.png" width="696" style="display: block; margin: auto;"></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">n =<span class="st"> </span><span class="dv">10</span>^<span class="dv">5</span>
Xt =<span class="st"> </span><span class="kw">arima.sim</span>(<span class="dt">n =</span> n, <span class="kw">list</span>(<span class="dt">ar =</span> <span class="fl">0.10</span>))
Yt =<span class="st"> </span><span class="kw">arima.sim</span>(<span class="dt">n =</span> n, <span class="kw">list</span>(<span class="dt">ar =</span> <span class="fl">0.35</span>))
Zt =<span class="st"> </span><span class="kw">arima.sim</span>(<span class="dt">n =</span> n, <span class="kw">list</span>(<span class="dt">ar =</span> <span class="fl">0.70</span>))
Wt =<span class="st"> </span><span class="kw">arima.sim</span>(<span class="dt">n =</span> n, <span class="kw">list</span>(<span class="dt">ar =</span> <span class="fl">0.95</span>))

wv_Xt =<span class="st"> </span><span class="kw"><a href="reference/wvar.html">wvar</a></span>(Xt)
wv_Yt =<span class="st"> </span><span class="kw"><a href="reference/wvar.html">wvar</a></span>(Yt)
wv_Zt =<span class="st"> </span><span class="kw"><a href="reference/wvar.html">wvar</a></span>(Zt)
wv_Wt =<span class="st"> </span><span class="kw"><a href="reference/wvar.html">wvar</a></span>(Wt)

<span class="kw">compare_wvar</span>(wv_Xt, wv_Yt, wv_Zt, wv_Wt)</code></pre></div>
<p><img src="reference/figures/README-unnamed-chunk-10-1.png" width="696" style="display: block; margin: auto;"></p>
</div>
</div>
<div id="user-guides" class="section level1">
<h1 class="hasAnchor">
<a href="#user-guides" class="anchor"></a>User Guides</h1>
<p>Various guides ship with package or are available on <a href="http://smac-group.com/" class="uri">http://smac-group.com/</a> to provide insight into how to use the different methods. At the present time, the following vignettes are available:</p>
<ol style="list-style-type: decimal">
<li>Process to Haar Wavelet Variance <a href="https://smac-group.com/computing/2016/05/23/process-to-haar-wavelet-variance-formulae.html">(Online)</a>
</li>
</ol>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>License</h2>
<p>GPL (&gt;= 2)</p>
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Justin Lee <br><small class="roles"> Author, maintainer </small> </li>
<li>Stephane Guerrier <br><small class="roles"> Author </small> </li>
<li>Roberto Molinari <br><small class="roles"> Author </small> </li>
<li>James Balamuta <br><small class="roles"> Author </small> </li>
<li><a href="authors.html">All authors...</a></li>
</ul>
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://travis-ci.org/SMAC-Group/wv"><img src="https://travis-ci.org/SMAC-Group/wv.svg?branch=master" alt="Linux Build Status"></a></li>
</ul>
</div>

</div>


      <footer><div class="copyright">
  <p>Developed by Justin Lee, Stephane Guerrier, Roberto Molinari, James Balamuta.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  </body>
</html>
